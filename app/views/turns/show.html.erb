<% turn = params[:id].to_i %>
<section class="container mx-auto">
  <h1 class="text-4xl font-bold text-center text-gray-800 mb-8"><%= @username.capitalize %> VS Ordinateur</h1>
  <div class="flex justify-center">
    <div class="p-8 bg-amber-300 w-1/2">
      <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-8 text-2xl">
        <% if turn == 1 %>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">1</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">2</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">3</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">4</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">7</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">8</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">9</li>
        <% elsif turn == 2 %>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">1</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">2</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">3</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">8</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">9</li>
        <% elsif turn == 3 %>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">2</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">3</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">8</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
        <% elsif turn == 4 %>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-cyan-400 rounded-md flex items-center justify-center">3</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
        <% elsif turn == 5 %>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">O</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
          <li class="px-4 py-16 bg-stone-400 rounded-md flex items-center justify-center">X</li>
        <% end %>
      </ul>
    </div>
  </div>

  <div class="flex justify-center py-8">
    <% if turn < 5 %>
      <form class="w-1/2 flex flex-col items-center space-y-2" action="/u/<%= @username %>/games/1/turns/<%= turn + 1 %>">
        <label for="your_turn" class="block text-xl font-medium text-gray-700">Que jouez-vous <%= @username.capitalize %> ?</label>
        <select id="your_turn" name="your_turn" class="mt-1 block flex-1 rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm">
          <% if turn == 1 %>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
          <% elsif turn == 2 %>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>8</option>
            <option>9</option>
          <% elsif turn == 3 %>
            <option>2</option>
            <option>3</option>
            <option>8</option>
          <% elsif turn == 4 %>
            <option>3</option>
          <% end %>
        </select>

        <button type="submit" class="inline-flex items-center rounded-md border border-transparent bg-cyan-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2">
          <!-- Heroicon name: mini/forward -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
            <path d="M3.288 4.819A1.5 1.5 0 001 6.095v7.81a1.5 1.5 0 002.288 1.277l6.323-3.905c.155-.096.285-.213.389-.344v2.973a1.5 1.5 0 002.288 1.276l6.323-3.905a1.5 1.5 0 000-2.553L12.288 4.82A1.5 1.5 0 0010 6.095v2.973a1.506 1.506 0 00-.389-.344L3.288 4.82z" />
          </svg>
          <span class="ml-2">Jouer le coup <%= turn + 1 %></span>
        </button>
      </form>
    <% else %>
      <div class="flex flex-col justify-center">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-8">C'est une égalité !</h2>
        <div class="w-full flex justify-between space-x-2">
          <a href="/games/new">
            <button type="button" class="inline-flex items-center rounded-md border border-transparent bg-cyan-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2">
              <!-- Heroicon name: mini/arrow-right-on-rectangle -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                <path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd" />
                <path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd" />
              </svg>
              <span class="ml-2">Nouveau pseudo</span>
            </button>
          </a>

          <a href="/u/<%= @username %>/games/1">
            <button type="submit" class="inline-flex items-center rounded-md border border-transparent bg-cyan-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2">
              <!-- Heroicon name: mini/puzzle-piece -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                <path d="M12 4.467c0-.405.262-.75.559-1.027.276-.257.441-.584.441-.94 0-.828-.895-1.5-2-1.5s-2 .672-2 1.5c0 .362.171.694.456.953.29.265.544.6.544.994a.968.968 0 01-1.024.974 39.655 39.655 0 01-3.014-.306.75.75 0 00-.847.847c.14.993.242 1.999.306 3.014A.968.968 0 014.447 10c-.393 0-.729-.253-.994-.544C3.194 9.17 2.862 9 2.5 9 1.672 9 1 9.895 1 11s.672 2 1.5 2c.356 0 .683-.165.94-.441.276-.297.622-.559 1.027-.559a.997.997 0 011.004 1.03 39.747 39.747 0 01-.319 3.734.75.75 0 00.64.842c1.05.146 2.111.252 3.184.318A.97.97 0 0010 16.948c0-.394-.254-.73-.545-.995C9.171 15.693 9 15.362 9 15c0-.828.895-1.5 2-1.5s2 .672 2 1.5c0 .356-.165.683-.441.94-.297.276-.559.622-.559 1.027a.998.998 0 001.03 1.005c1.337-.05 2.659-.162 3.961-.337a.75.75 0 00.644-.644c.175-1.302.288-2.624.337-3.961A.998.998 0 0016.967 12c-.405 0-.75.262-1.027.559-.257.276-.584.441-.94.441-.828 0-1.5-.895-1.5-2s.672-2 1.5-2c.362 0 .694.17.953.455.265.291.601.545.995.545a.97.97 0 00.976-1.024 41.159 41.159 0 00-.318-3.184.75.75 0 00-.842-.64c-1.228.164-2.473.271-3.734.319A.997.997 0 0112 4.467z" />
              </svg>
              <span class="ml-2">Nouvelle partie</span>
            </button>
          </a>
        </div>
      </div>
    <% end %>
  </div>
</section>